// Generated by CoffeeScript 1.10.0
(function(window, $, templates) {
  'use strict';
  var mainContainer;
  mainContainer = $('#main-container');
  window.mainContainer = mainContainer;
  window.loadContent = function(url) {
    var res;
    res = $.get(url);
    res.done(function(data) {
      mainContainer.html(data);
      return mainContainer.find('a').first().focus();
    });
    res.fail(function() {
      return alert(templates.alertLoadError);
    });
    return res;
  };
  mainContainer.on('click', '.views-tabs-tab-link', function(e) {
    var elem, res, url;
    e.preventDefault();
    e.stopPropagation();
    elem = $(this);
    url = elem.attr('href');
    res = loadContent(url);
    return res.done(function() {
      window.history.pushState(null, null, url);
      window.mainContainer.trigger('filemanager:tabchanged');
    });
  });
})(this, this.jQuery, this.templates);
